{"version":3,"sources":["components/UI/Loader/Loader.jsx","components/CurrentPlayback.jsx","components/Header.jsx","components/TrackList.jsx","components/TrackItem.jsx","components/QueueItem.jsx","components/UI/Form.jsx","components/Search.jsx","App.js","index.js","components/UI/Loader/Loader.module.scss"],"names":["Loader","className","styles","ldsFacebook","CurrentPlayback","currentPlayback","Object","keys","length","src","img","alt","id","artist","title","value","progress","max","duration","Header","href","TrackList","children","TrackItem","track","addToQueue","onClick","cookies","Cookies","QueueItem","removeFromQueue","index","get","Form","Search","currentQueue","useState","foundTracks","setFoundTracks","searchQuery","setSearchQuery","useEffect","searchTracks","keyword","a","axios","response","data","error","cookie","post","type","placeholder","onFocus","e","target","onBlur","debounceTimeout","onChange","preventDefault","TransitionGroup","map","CSSTransition","timeout","classNames","uri","slice","App","setCurrentPlayback","setCurrentQueue","socket","io","on","gotPlayback","queue","set","nanoid","ReactDOM","render","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.05b70813.chunk.js","sourcesContent":["import React from \"react\";\r\nimport styles from \"./Loader.module.scss\";\r\n\r\nconst Loader = () => {\r\n  return (\r\n    <div className={styles.ldsFacebook}>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loader;\r\n","import { React } from \"react\";\r\nimport Loader from \"./UI/Loader/Loader\";\r\n\r\nconst CurrentPlayback = ({ currentPlayback }) => {\r\n  return (\r\n    <div className=\"current-playback-container\">\r\n      {currentPlayback && Object.keys(currentPlayback).length !== 0 ? (\r\n        <div className=\"current-playback\">\r\n          <img src={currentPlayback.img} alt=\"no_image\" id=\"blurred\" />\r\n          <img src={currentPlayback.img} alt=\"no_image\" id=\"cover\"/>\r\n          {/* eslint-disable-next-line */}\r\n          <marquee>\r\n            {currentPlayback.artist} - {currentPlayback.title}\r\n          </marquee>\r\n          <progress\r\n            value={currentPlayback.progress}\r\n            max={currentPlayback.duration}\r\n          ></progress>\r\n        </div>\r\n      ) : (\r\n        <Loader />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CurrentPlayback;\r\n","import React from \"react\";\r\n\r\nconst Header = () => {\r\n  return (\r\n    <header>\r\n      <a href=\"http://partyfy.xyz/login\">\r\n          <img\r\n            src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/1/19/Spotify_logo_without_text.svg/1024px-Spotify_logo_without_text.svg.png\"\r\n            alt=\"spotify.logo\"\r\n          />\r\n          <span>\r\n            Become a host\r\n          </span>\r\n      </a>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\n\r\nconst TrackList = ({ children }) => {\r\n  return (\r\n    <ul>\r\n       {children}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default TrackList;\r\n","import React from \"react\";\r\n\r\nconst TrackItem = ({ track, addToQueue }) => {\r\n  return (\r\n    <li className=\"search-item\"\r\n      onClick={() => {\r\n        addToQueue(track);\r\n      }}\r\n    >\r\n      <img src={track.img} alt=\"loading\" />\r\n      <div>\r\n        <p className=\"title\">{track.title}</p>\r\n        <p className=\"artist \">{track.artist}</p>\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default TrackItem;\r\n","import React from \"react\";\r\nimport Cookies from \"universal-cookie\";\r\n\r\nconst cookies = new Cookies();\r\n\r\nconst QueueItem = ({ track, removeFromQueue, index }) => {\r\n  return (\r\n    <li className=\"queue-item\">\r\n      <img src={track.img} alt=\"loading\" />\r\n      <div>\r\n        <p className=\"title\">{track.title}</p>\r\n        <p className=\"artist \">{track.artist}</p>\r\n      </div>\r\n      {track.id === cookies.get(\"id\") && (\r\n        <span\r\n          onClick={() => {\r\n            removeFromQueue(index);\r\n          }}\r\n        >\r\n          &#10006;\r\n        </span>\r\n      )}\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default QueueItem;\r\n","import { React } from \"react\";\r\n\r\nconst Form = ({ children }) => {\r\n  return <form>{children}</form>;\r\n};\r\n\r\nexport default Form;\r\n","import { React, useState, useEffect } from \"react\";\r\nimport TrackList from \"./TrackList\";\r\nimport TrackItem from \"./TrackItem\";\r\nimport QueueItem from \"./QueueItem\";\r\nimport Form from \"./UI/Form\";\r\nimport axios from \"axios\";\r\nimport { DebounceInput } from \"react-debounce-input\";\r\nimport Cookies from \"universal-cookie\";\r\nimport { TransitionGroup, CSSTransition } from \"react-transition-group\";\r\n\r\nconst Search = ({ currentQueue }) => {\r\n  const [foundTracks, setFoundTracks] = useState([]);\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    if (searchQuery.length > 0) searchTracks(searchQuery);\r\n    else setFoundTracks([]);\r\n  }, [searchQuery]);\r\n\r\n  const searchTracks = async (keyword) => {\r\n    const response = await axios.get(`/search?keyword=${keyword}`);\r\n\r\n    if (response.data.error) return;\r\n\r\n    setFoundTracks(response.data);\r\n  };\r\n\r\n  const addToQueue = async (track) => {\r\n    setFoundTracks([]);\r\n    setSearchQuery(\"\");\r\n    const cookie = new Cookies();\r\n    const response = await axios.post(`/queue`, {\r\n      track: { ...track, id: cookie.get(\"id\") },\r\n    });\r\n\r\n    if (response.data.error) return;\r\n  };\r\n\r\n  const removeFromQueue = async (index) => {\r\n    const response = await axios.post(`/queue_remove`, { index: index });\r\n\r\n    if (response.data.error) return;\r\n  };\r\n\r\n  return (\r\n    <div className=\"search\">\r\n      <Form searchTracks={searchTracks}>\r\n        <DebounceInput\r\n          type=\"text\"\r\n          placeholder=\"Search\"\r\n          value={searchQuery}\r\n          onFocus={(e) => (e.target.placeholder = \"Search query\")}\r\n          onBlur={(e) => (e.target.placeholder = \"Search\")}\r\n          debounceTimeout={1000}\r\n          onChange={(e) => {\r\n            e.preventDefault();\r\n            setSearchQuery(e.target.value);\r\n          }}\r\n        />\r\n      </Form>\r\n      {foundTracks.length !== 0 ? (\r\n        <TrackList>\r\n          <TransitionGroup>\r\n            {foundTracks.map((track) => (\r\n              <CSSTransition\r\n                key={track.uri}\r\n                timeout={500}\r\n                classNames=\"animation-item\"\r\n              >\r\n                <TrackItem\r\n                  track={track}\r\n                  addToQueue={addToQueue}\r\n                />\r\n              </CSSTransition>\r\n            ))}\r\n          </TransitionGroup>\r\n        </TrackList>\r\n      ) : (\r\n        <TrackList>\r\n          <TransitionGroup>\r\n            {currentQueue.map((track, index) => (\r\n              <CSSTransition\r\n                key={track.uri.slice(0, -1)}\r\n                timeout={500}\r\n                classNames=\"animation-item\"\r\n              >\r\n                <QueueItem\r\n                  track={track}\r\n                  index={index}\r\n                  removeFromQueue={removeFromQueue}\r\n                />\r\n              </CSSTransition>\r\n            ))}\r\n          </TransitionGroup>\r\n        </TrackList>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n","import { React, useEffect, useState } from \"react\";\r\nimport { io } from \"socket.io-client\";\r\nimport CurrentPlayback from \"./components/CurrentPlayback\";\r\nimport Header from \"./components/Header\";\r\nimport Search from \"./components/Search\";\r\nimport Cookies from \"universal-cookie\";\r\nimport { nanoid } from \"nanoid\";\r\n\r\nconst App = () => {\r\n  const [currentPlayback, setCurrentPlayback] = useState({});\r\n  const [currentQueue, setCurrentQueue] = useState([]);\r\n\r\n  useEffect(() => {\r\n    let socket = io(\"/\");\r\n    socket.on(\"current-playback\", (gotPlayback) => {\r\n      setCurrentPlayback({ ...gotPlayback });\r\n    });\r\n    socket.on(\"current-queue\", (queue) => {\r\n      setCurrentQueue(queue);\r\n    });\r\n\r\n    const cookies = new Cookies();\r\n\r\n    if (!cookies.get(\"id\")) cookies.set(\"id\", nanoid());\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <CurrentPlayback currentPlayback={currentPlayback} />\r\n      <Search currentQueue={currentQueue} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './styles/index.scss';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n    <App />,\r\n  document.getElementById('root')\r\n);\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ldsFacebook\":\"Loader_ldsFacebook__yGwpR\"};"],"sourceRoot":""}